<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Momento</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin: 0;
    background: #111;
    color: #fff;
    font-family: system-ui, sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    text-align: center;
  }
  #contenedor {
    max-width: 320px;
    padding: 20px;
  }
  #mensaje {
    font-size: 1.6rem;
    margin-bottom: 16px;
  }
  #sub {
    opacity: 0.6;
    font-size: 0.8rem;
    margin-bottom: 24px;
  }
  button {
    background: #fff;
    color: #000;
    border: none;
    padding: 12px 18px;
    font-size: 1rem;
    border-radius: 8px;
    cursor: pointer;
  }
  canvas {
    display: none;
    background: #000;
    touch-action: none;
  }
</style>
</head>
<body>

<div id="contenedor">
  <div id="mensaje"></div>
  <div id="sub"></div>
  <button onclick="iniciarSnake()">Jugar Snake</button>
</div>

<canvas id="juego" width="300" height="300"></canvas>

<script>
// ===== MENSAJES =====
const frases = {
  lunes: {
    mañana: ["Lunes suave, mente despierta.", "Café primero, decisiones después."],
    tarde: ["Mitad del lunes superada.", "Modo automático activado."],
    noche: ["Sobreviviste al lunes.", "Noche de descanso merecido."]
  },
  martes: {
    mañana: ["Martes con mejor energía."],
    tarde: ["Buen ritmo hoy."],
    noche: ["Buen cierre de martes."]
  },
  miercoles: {
    mañana: ["Mitad de semana."],
    tarde: ["Energía estable."],
    noche: ["Semana domada."]
  },
  jueves: {
    mañana: ["Jueves coopera."],
    tarde: ["Todo más ligero."],
    noche: ["Noche tranquila."]
  },
  viernes: {
    mañana: ["Viernes activado."],
    tarde: ["Ya casi."],
    noche: ["La noche llama."]
  },
  sabado: {
    mañana: ["Sábado suave."],
    tarde: ["Tiempo tuyo."],
    noche: ["Noche libre."]
  },
  domingo: {
    mañana: ["Domingo lento."],
    tarde: ["Pausa necesaria."],
    noche: ["Descansa."]
  }
};

const ahora = new Date();
const dias = ["domingo","lunes","martes","miercoles","jueves","viernes","sabado"];
const dia = dias[ahora.getDay()];
const hora = ahora.getHours();

let tramo = "mañana";
if (hora >= 12 && hora < 18) tramo = "tarde";
if (hora >= 18) tramo = "noche";

const opciones = frases[dia][tramo];
document.getElementById("mensaje").textContent =
  opciones[Math.floor(Math.random() * opciones.length)];
document.getElementById("sub").textContent =
  dia.toUpperCase() + " · " + tramo.toUpperCase();

// ===== SNAKE =====
const canvas = document.getElementById("juego");
const ctx = canvas.getContext("2d");
let snake, dir, food, intervalo;

function iniciarSnake() {
  document.getElementById("contenedor").style.display = "none";
  canvas.style.display = "block";

  snake = [{x: 150, y: 150}];
  dir = {x: 10, y: 0};
  food = nuevaComida();

  intervalo = setInterval(loop, 120);
}

function loop() {
  const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};

  if (head.x < 0 || head.y < 0 || head.x >= 300 || head.y >= 300) {
    return reset();
  }

  snake.unshift(head);

  if (head.x === food.x && head.y === food.y) {
    food = nuevaComida();
  } else {
    snake.pop();
  }

  ctx.clearRect(0,0,300,300);
  ctx.fillStyle = "#0f0";
  snake.forEach(p => ctx.fillRect(p.x, p.y, 10, 10));
  ctx.fillStyle = "#f00";
  ctx.fillRect(food.x, food.y, 10, 10);
}

function nuevaComida() {
  return {
    x: Math.floor(Math.random() * 30) * 10,
    y: Math.floor(Math.random() * 30) * 10
  };
}

function reset() {
  clearInterval(intervalo);
  canvas.style.display = "none";
  document.getElementById("contenedor").style.display = "block";
}

// Controles táctiles simples
document.addEventListener("touchstart", e => {
  const t = e.touches[0];
  const cx = window.innerWidth / 2;
  const cy = window.innerHeight / 2;
  const dx = t.clientX - cx;
  const dy = t.clientY - cy;
  if (Math.abs(dx) > Math.abs(dy)) {
    dir = dx > 0 ? {x:10,y:0} : {x:-10,y:0};
  } else {
    dir = dy > 0 ? {x:0,y:10} : {x:0,y:-10};
  }
});
</script>

</body>
</html>
